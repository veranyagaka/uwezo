<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jukumu - Community Accountability Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'xiketic': '#1a1f2e',
                        'han-purple': '#5a4cb4',
                        'jukumu-orange': '#ff5733',
                    }
                }
            }
        }
    </script>
    <link rel="stylesheet" href="{% static 'styles.css' %}">
</head>
<body class="bg-xiketic text-gray-300 px-6">
    {% if messages %}
        <ul class="fixed top-0 left-0 right-0 z-50 bg-jukumu-orange text-white p-4">
            {% for message in messages %}
                <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
            {% endfor %}
        </ul>
    {% endif %}

    <!-- Header -->
    <header class="fixed top-0 left-0 w-full bg-xiketic py-5 transition-all duration-300 z-50" id="header">
        <div class="container mx-auto px-4 flex items-center justify-between">
            <a href="{% url 'index' %}" class="flex items-center text-jukumu-orange font-bold text-2xl">
                <img src="{% static 'images/logo.png' %}" width="68" height="48" alt="" class="mr-2">
                Jukumu
            </a>

            <nav class="hidden md:flex items-center space-x-6">
                <a href="{% url 'index' %}" class="text-white hover:text-jukumu-orange transition-colors">Home</a>
                <a href="#" class="text-white hover:text-jukumu-orange transition-colors">Report Incident</a>
                <a href="#" class="text-white hover:text-jukumu-orange transition-colors">Hotspot Map</a>
                <a href="{% url 'trending' %}" class="text-white hover:text-jukumu-orange transition-colors">What's Trending</a>
                <a href="{% url 'recent' %}" class="text-white hover:text-jukumu-orange transition-colors">Recent Posts</a>
                <a href="#" class="text-white hover:text-jukumu-orange transition-colors">About</a>
            </nav>

            <div class="flex items-center space-x-4">
                <button id="login-btn" class="hidden md:inline-flex items-center px-4 py-2 border-2 border-jukumu-orange text-jukumu-orange rounded-full hover:bg-jukumu-orange hover:text-white transition-all duration-300">
                    Login
                </button>
                <button id="signup-btn" class="hidden md:inline-flex items-center px-4 py-2 bg-jukumu-orange text-white rounded-full hover:opacity-90 transition-all duration-300">
                    Sign up
                </button>
                <button class="md:hidden text-jukumu-orange text-2xl" id="menu-open-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                    </svg>
                </button>
            </div>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden" id="mobile-menu-overlay"></div>
    <nav class="fixed top-0 right-0 bottom-0 w-64 bg-xiketic transform translate-x-full transition-transform duration-300 ease-in-out z-50" id="mobile-menu">
        <div class="p-5 flex justify-between items-center border-b border-gray-700">
            <h2 class="text-jukumu-orange text-xl font-semibold">Menu</h2>
            <button id="menu-close-btn" class="text-jukumu-orange">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
        </div>
        <ul class="p-5 space-y-4">
            <li><a href="{% url 'index' %}" class="block text-white hover:text-jukumu-orange transition-colors">Home</a></li>
            <li><a href="#" class="block text-white hover:text-jukumu-orange transition-colors">Report Incident</a></li>
            <li><a href="#" class="block text-white hover:text-jukumu-orange transition-colors">Hotspot Map</a></li>
            <li><a href="{% url 'trending' %}" class="block text-white hover:text-jukumu-orange transition-colors">What's Trending</a></li>
            <li><a href="{% url 'recent' %}" class="block text-white hover:text-jukumu-orange transition-colors">Recent Posts</a></li>
            <li><a href="#" class="block text-white hover:text-jukumu-orange transition-colors">About</a></li>
            <li><button id="mobile-login-btn" class="block text-white hover:text-jukumu-orange transition-colors">Login</button></li>
            <li><button id="mobile-signup-btn" class="block text-white hover:text-jukumu-orange transition-colors">Sign up</button></li>
        </ul>
    </nav>

    <!-- Main Content -->
    <main class="pt-20">
        <!-- Main content remains unchanged -->
    </main>

    <!-- Footer -->
    <footer class="bg-xiketic text-gray-300 py-12">
        <!-- Footer content remains unchanged -->
    </footer>

    <!-- Back to Top Button -->
    <a href="#top" class="fixed bottom-4 right-4 bg-jukumu-orange text-white p-2 rounded-full shadow-lg hidden" id="back-to-top">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18" />
        </svg>
    </a>

    <!-- Login Modal -->
    <div id="login-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center">
        <div class="bg-xiketic text-white rounded-lg p-8 max-w-md w-full">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-jukumu-orange">Login</h2>
                <button class="text-gray-400 hover:text-white" id="close-login-modal">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <form method="POST">
                {% csrf_token %}
                {{ login_form.as_p }}
                <button type="submit" class="w-full bg-jukumu-orange text-white py-2 px-4 rounded-md hover:bg-opacity-90 transition-colors mt-4" name="login">Login</button>
            </form>
        </div>
    </div>

    <!-- Sign Up Modal -->
    <div id="signup-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center">
        <div class="bg-xiketic text-white rounded-lg p-8 max-w-md w-full">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-jukumu-orange">Sign Up</h2>
                <button class="text-gray-400 hover:text-white" id="close-signup-modal">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <form method="POST">
                {% csrf_token %}
                {{ signup_form.as_p }}
                <button type="submit" class="w-full bg-jukumu-orange text-white py-2 px-4 rounded-md hover:bg-opacity-90 transition-colors mt-4" name="signup">Sign Up</button>
            </form>
        </div>
    </div>

    <script>
        // Mobile menu toggle
        const menuOpenBtn = document.getElementById('menu-open-btn');
        const menuCloseBtn = document.getElementById('menu-close-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        const mobileMenuOverlay = document.getElementById('mobile-menu-overlay');

        menuOpenBtn.addEventListener('click', () => {
            mobileMenu.classList.remove('translate-x-full');
            mobileMenuOverlay.classList.remove('hidden');
        });

        menuCloseBtn.addEventListener('click', () => {
            mobileMenu.classList.add('translate-x-full');
            mobileMenuOverlay.classList.add('hidden');
        });

        mobileMenuOverlay.addEventListener('click', () => {
            mobileMenu.classList.add('translate-x-full');
            mobileMenuOverlay.classList.add('hidden');
        });

        // Header scroll effect
        const header = document.getElementById('header');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) {
                header.classList.add('shadow-md');
            } else {
                header.classList.remove('shadow-md');
            }
        });

        // Back to top button
        const backToTopButton = document.getElementById('back-to-top');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 300) {
                backToTopButton.classList.remove('hidden');
            } else {
                backToTopButton.classList.add('hidden');
            }
        });

        // Login and Signup Modal functionality
        const loginModal = document.getElementById('login-modal');
        const signupModal = document.getElementById('signup-modal');
        const loginBtn = document.getElementById('login-btn');
        const signupBtn = document.getElementById('signup-btn');
        const mobileLoginBtn = document.getElementById('mobile-login-btn');
        const mobileSignupBtn = document.getElementById('mobile-signup-btn');
        const closeLoginModal = document.getElementById('close-login-modal');
        const closeSignupModal = document.getElementById('close-signup-modal');

        function openModal(modal) {
            modal.classList.remove('hidden');
        }

        function closeModal(modal) {
            modal.classList.add('hidden');
        }

        loginBtn.addEventListener('click', () => openModal(loginModal));
        signupBtn.addEventListener('click', () => openModal(signupModal));
        mobileLoginBtn.addEventListener('click', () => {
            closeModal(mobileMenu);
            openModal(loginModal);
        });
        mobileSignupBtn.addEventListener('click', () => {
            closeModal(mobileMenu);
            openModal(signupModal);
        });
        closeLoginModal.addEventListener('click', () => closeModal(loginModal));
        closeSignupModal.addEventListener('click', () => closeModal(signupModal));

        window.addEventListener('click', (e) => {
            if (e.target === loginModal) closeModal(loginModal);
            if (e.target === signupModal) closeModal(signupModal);
        });
    </script>
</body>
</html>